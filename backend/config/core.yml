default: &default
  api_key: "dev_api_key_change_in_production"
  # CORS origins can be exact URLs or regex patterns wrapped in forward slashes
  # Examples:
  #   - "http://localhost:3000"           # Exact match
  #   - "/chrome-extension://.*/"         # Regex: any Chrome extension
  #   - "/https://.*\.example\.com/"      # Regex: any subdomain of example.com
  cors_origins:
    - "http://linkradar.localhost:9000"
    - "https://linkradar.app"
    - "/chrome-extension://.*/"
    - "/moz-extension://.*/"
  log_level: "debug"
  frontend_url: "http://linkradar.localhost:9000"
  snapshot_dir: "snapshot" # Relative to Rails.root
  snapshot_exports_retention_days: 30
  snapshot_imports_retention_days: 30
  snapshot_tmp_retention_days: 7

development:
  <<: *default

test:
  <<: *default
  snapshot_dir: "tmp/test_snapshots" # Isolated for tests
  snapshot_exports_retention_days: 1
  snapshot_imports_retention_days: 1
  snapshot_tmp_retention_days: 1

production:
  <<: *default
  # Inherits cors_origins from default (includes chrome/moz extensions)
  # To override, uncomment and add production-specific origins:
  # cors_origins:
  #   - "https://linkradar.app"
  #   - "/chrome-extension://.*/"
  #   - "/moz-extension://.*/"
  log_level: info
  frontend_url: "https://linkradar.app"
  # Can override with ENV var: SNAPSHOT_DIR=/mnt/storage/snapshots
  # SNAPSHOT_EXPORTS_RETENTION_DAYS=90
  # SNAPSHOT_IMPORTS_RETENTION_DAYS=60
  # SNAPSHOT_TMP_RETENTION_DAYS=3
